<!-- create-profile.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Profile â€“ Wingmatch</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">

    <style>
        body.create-profile-page {
            min-height: 100vh;
            background: linear-gradient(135deg, #ffdde1, #ee9ca7);
        }

        .wm-card {
            background: #fff;
            color: #111;
            border-radius: 20px;
            width: 420px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

                #skipBtn {
            position: absolute;
            top: 10px;
            right: 14px;
            font-weight: 700;
            color: #ff4d6d;
        }

        /* NEW: Close-X for edit-mode (homepage) */
        #closeBtn {
            position: absolute;
            top: 10px;
            right: 14px;
            font-weight: 800;
            color: #ff4d6d;
            text-decoration: none;
            font-size: 20px;
            line-height: 1;
        }

    </style>
</head>

<body class="create-profile-page d-flex justify-content-center">

<div class="wm-card shadow p-4 my-4">

    <!-- Skip (ONLY onboarding/register flow) -->
    <button id="skipBtn" type="button" class="btn btn-link">Skip</button>

    <!-- NEW: Close X (ONLY homepage edit flow) -->
    <button id="closeBtn" type="button" class="btn btn-link" style="display:none;">âœ•</button>

    <!-- Header -->
    <div class="text-center mb-3">
        <div style="font-weight:800;font-size:24px;color:#ff4d6d;">Wingmatch</div>
        <h4>Create Profile</h4>

        <!-- NEW: helper text gets removed in edit-mode via JS -->
        <p id="helperText" class="text-muted small">You can skip and edit later.</p>
    </div>

    <form id="profileForm">

        <!-- REQUIRED -->
        <input id="name" class="form-control mb-2" placeholder="Name" required>
        <input id="age" type="number" min="18" class="form-control mb-2" placeholder="Age" required>

        <select id="gender" class="form-select mb-2" required>
            <option value="" disabled selected>Select gender</option>
            <option>Female</option>
            <option>Male</option>
            <option>Non-binary</option>
            <option>Other</option>
        </select>

        <input id="location" class="form-control mb-3" placeholder="Location" required>

        <!-- OPTIONAL BASIC -->
        <textarea id="bio" class="form-control mb-1" rows="3" placeholder="About me (optional)"></textarea>
        <button type="button" class="btn btn-link text-danger clear-btn" data-target="bio">Clear</button>

        <input id="hobbies" class="form-control mb-1" placeholder="Hobbies (optional)">

        <button type="button" class="btn btn-link text-danger clear-btn" data-target="hobbies">Clear</button>

        <!--  My Pictures Button (ONLY homepage edit-mode) -->
        <button id="managePics" type="button" class="btn btn-link w-100 small fw-bold" style="display:none;">
            My Pictures
        </button>


        <!-- PROMPTS -->
        <div class="mt-3">
            <button type="button" id="togglePromptsBtn" class="btn btn-link fw-bold p-0">
                Tell us more about yourself â–¼
            </button>
            <div id="promptsContainer" class="mt-2"></div>
        </div>

        <!-- EXTRA PROFILE INFO -->
        <div class="mt-3">

            <input id="zodiac" class="form-control mb-1" placeholder="Zodiac sign (optional)">
            <button type="button" class="btn btn-link text-danger clear-btn" data-target="zodiac">Clear</button>

            <input id="lookingFor" class="form-control mb-1" placeholder="Looking for (optional)">
            <button type="button" class="btn btn-link text-danger clear-btn" data-target="lookingFor">Clear</button>

            <textarea id="extra" class="form-control mb-1" rows="2" placeholder="Extra (optional)"></textarea>
            <button type="button" class="btn btn-link text-danger clear-btn" data-target="extra">Clear</button>
        </div>

        <!-- PREFERENCES -->
        <div class="mt-3">
            <h5 class="text-center">Preferences</h5>

            <select id="interestedIn" class="form-select mb-2">
                <option value="">Interested in (optional)</option>
                <option>Men</option>
                <option>Women</option>
                <option>Everyone</option>
                <option>Other</option>
            </select>

            <div class="mb-2">
                <div class="d-flex justify-content-between small">
                    <span>Preferred age</span>
                    <span id="ageRangeLabel">18 - 100</span>
                </div>
                <div class="d-flex gap-2">
                    <input id="prefAgeMin" type="range" min="18" max="100" value="18" class="form-range">
                    <input id="prefAgeMax" type="range" min="18" max="100" value="100" class="form-range">
                </div>
            </div>
        </div>

        <!-- SUBMIT -->
        <button type="submit" class="btn btn-danger w-100 mt-3">
            Save & Continue
        </button>

        <div id="result" class="text-center small fw-bold mt-2"></div>


        <!-- =========================
     WINGMAN COMMENTS
========================= -->
        <section id="wingmanCommentsSection" class="mt-4 hidden">
            <h3>Wingman Comments ðŸ’¬</h3>

            <!-- Only visible if viewer is a wingman -->
            <div id="wingmanCommentBox" class="hidden">
        <textarea id="wingmanCommentText"
                  placeholder="Say something nice about your friendâ€¦"
                  class="form-control mb-2"></textarea>
                <button id="postWingmanComment" class="btn btn-primary btn-sm">
                    Post comment
                </button>
            </div>

            <!-- Visible to everyone -->
            <ul id="profileCommentsList" class="mt-3"></ul>
        </section>


    </form>
</div>

<script src="/js/create-profile.js"></script>
</body>
</html>
